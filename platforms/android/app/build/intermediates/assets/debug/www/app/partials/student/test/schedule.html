<div class="row f5f5f5-bg" ng-init="init()" ng-if="isTest">
	<div class="col s12 lecture-bg page-bg home-nav center">
		  <div class="col s1 st-lecture left-no-pad" ng-click="goBack()">
		    <img src="app/images/go-back-left-arrow.png" class="" width="20" height="20">
		  </div>
		  <div class="col s11 stlec-heading center">
		  		<div class="col s4 offset-s4 ">
			  		<div class="icon">
			  			<img src="app/images/ts_onclick.png" class="">
			  		</div>
		  		</div>
		  		<div class="col s12">
		  			<h6>Test Schedule</h6>
		  		</div>
		  </div>
	</div>
	<div class="col s12 side-no-pad">
			<!-- Tab links -->
			<div class="upcomingTesttab">
			  <button class="tablinks testbtn-active" ng-click="openTestSchedule('upcomingTest')" id="uptest-btn1">Upcoming Tests -{{upcomingtestslength}}</button>
			  <button class="tablinks" ng-click="openTestSchedule('attemptedTest')" id="uptest-btn2">Attempted Test -{{attemptedtestslength}}</button>
		 </div>

			<!-- Tab content -->
		<div ng-show="upcomingTest" class="tabcontent upcomingTest">
	  	<div class="col s12 side-no-pad" ng-repeat="test in upcomingtests">
	  		<div class="col s12 uptest-name slight-top-margin">
	  			<h6 class="slight-top-margin">{{test.SubjectName}}</h6>
	  		</div>
	  		<div slick-slider="{arrows: false,
				                infinite: false,
				                centerMode: true,
				                centerPadding: '50px',
				                slidesToShow: 1,
				                variableWidth: false}" class="col s12 uptest-info slick">
		  		<div class="col s12 white slider-item" ng-repeat="subtest in test.TDetails">
		  			<h6 class="test-name"> </h6>
		  			<p class="test-expiry"><span><i class="material-icons dp48">timer</i></span> Published on : {{ subtest.PublishDate | date :  "dd MMM yyyy"  }}</p>
		  			<p class="test-syllabus">{{subtest.SubjectName}}</p>
		  			<p class="testsyllabus-info syllabus-border"><span class="span-num">{{subtest.TotalQuestion}}</span><span class="span-text">Question</span><span class="span-ques">?</span></p>
		  			<p class="testsyllabus-info syllabus-border"><span class="span-num">{{subtest.TotalMarks}}</span><span class="span-text">Marks</span><span class="span-done"><i class="material-icons dp48">done</i></span></p>
		  			<p class="testsyllabus-info"><span class="span-num">{{subtest.TotalTime}}</span><!--<span class="span-text">Minutes</span>--><span class="span-done"><i class="material-icons dp48">timer</i></span></p>
		  			<button class="teststart" ng-click="showInstructions(subtest.TestId, subtest.SubjectId,subtest.SubjectName)">Start Test</button>
		  		</div>
		  	</div>
  	</div>
	</div>
	<div class="col s12 side-no-pad">
		<div ng-hide="upcomingTest" class="tabcontent upcomingTest row">
			<div class="col s12 side-no-pad" ng-repeat="test in attemptedtests">
				<div class="col s12 uptest-name">
					<h6>{{test.SubjectName}}</h6>
				</div>
				<div class="col s12 uptest-info slick">
					<div class="col s12 white slider-item side-no-pad" ng-repeat="subtest in test.TDetails">
						<div class="col s12">
							<div class="col s10 side-no-pad pad">
								<p class="test-expiry padtop-10"><span><i class="material-icons dp48">timer</i></span> Submitted on : {{ subtest.PublishDate | date :  "dd MMM yyyy"  }}</p>
								<h5 class="secondary-color  fs17">{{subtest.Title}}</h5>
							</div>
							<div class="col s2 side-no-pad right-align">
								<img src="app/images/success.png" class="right">
							</div>
						</div>
						<!-- <div class="col s12">
							<div class="col s4 side-no-pad pad">
								<span><div class="circle-test"></div></span>
								<span class="star-h6">50%</span>
							</div>
							<div class="col s4 side-no-pad right-align">
								<span><img src="app/images/star.png" class="star-css"></span>
								<span class="star-h6">21</span>
							</div>
						</div> -->
						<button class="teststart" ng-click="showSolution(subtest.TestId)">Solutions</button>
					</div>
				</div>
			</div>
	</div>
</div>
</div>
</div>
<!-- test instruction -->

<div class="row" ng-if="isInstruction">
	<div class="col s12 test-info">
		  <div class="col s1 st-lecture left-no-pad" ng-click="goTest()">
		    <img src="app/images/go-back-left-arrow.png" class="" width="20" height="20">

		  </div>
		  <div class="col s11 test-name">
		  		<h6>{{SubjectName}}</h6>
		  </div>
	</div>
	<div class="col s12 center test-heading">
		<h6>Instructions to follow</h6>

	</div>
	<div class="col s12 pad40">
	<div class="col s12 test-instructions">
			<div class="col s2 instr-img">
				<img src="app/images/instruction1.png" width="45" height="45" class="">
			</div>
			<div class="col s10 instr-details">
				<h6>This test may contain multiple-choice or fill in the blank type of questions. No marks are awarded for unattempted questions.</h6>
			</div>
		</div>
		<div class="col s12 test-instructions">
			<div class="col s2 instr-img">
				<img src="app/images/instruction2.png" width="45" height="45" class="">
			</div>
			<div class="col s10 instr-details">
				<h6>Tap to select correct answer and double tap to clear the selection. tap on an image to zoom.</h6>
			</div>
		</div>
		<div class="col s12 test-instructions">
			<div class="col s2 instr-img">
				<img src="app/images/instruction3.png" width="45" height="45" class="">
			</div>
			<div class="col s10 instr-details">
				<h6>Mark the question for review using the mark for review icon. Report an issue in aquestion/answer using report an issue icon.</h6>
			</div>
		</div>
	</div>
<div class="col s12 test-start">
     <button ng-click="startTest()">Continue</button>
</div>
</div>
</div>


<div class="row f5f5f5" ng-if="isTestStart">
	<div class="col s12 test-timer">
		<div class="col s9">

		</div>
		<div class="col s3 test-submit">
			<button ng-click="openSubmitModal()">Submit</button>
		</div>
	</div>

			<div  class="col s12 question-slider slick">
			  		<div class="slider-item" ng-repeat="slider in testQuestions">
			  			<h6>{{$index + 1}}</h6>
			  		</div>
			</div>
			<div  class="col s12 quesinfo-slider slick">
			  		<div class="slider-item" ng-repeat="ques in testQuestions">
			  			<div class="col s12">
			  				<div class="col s12 ques-info">
			  					<div class="col s12 side-no-pad ques-head">
			  						<div class="col s10 side-no-pad">
			  							<span class="ques-num">{{$index + 1}}</span><span class="ques-time"></span><span class="ques-points">+{{ques.Marks}}</span><span class="ques-points">-{{ques.NegativeMarks}}</span>
			  						</div>
			  						<div class="col s1">
			  							<img src="app/images/attention-sign-outline.png">
			  						</div>
			  						<div class="col s1">
			  							<img src="app/images/bookmark.png" width="18">
			  						</div>
			  					</div>
			  					<div class="col s12 ques-text side-no-pad">
			  						<h6>
											{{ques.Question}}
										</h6>
			  					</div>
			  				</div>
			  				<div class="ques-option col s12 side-no-pad">
								  <div class="selection" ng-repeat="option in ques.TAnswer">
								    <input id="option_{{$index + 1}}_{{$parent.$index + 1}}" name="ques-option" type="radio">
								    <label for="option_{{$index + 1}}_{{$parent.$index + 1}}" class="bg_{{$parent.$index + 1}} selected_{{$index + 1}}_{{$parent.$index + 1}}" ng-click="submitAnswer(ques.QuestionId, option.AnswerId,$index+1,$parent.$index + 1)">
											<span>{{$index+1}}.
											</span>
											{{option.Answer}}
										</label>
								  </div>
							</div>
			  			</div>
			  		</div>
			</div>
				<div class="col s12 test-start txt-strt-btn" ng-show="first_question">
				     <button ng-click="nextQuestion();">Next</button>
				</div>
				<div class="col s12 test-nxt-prev txt-strt-btn" ng-hide="first_question">
				     <button ng-click="prevQuestion();" class="btn-border">Prev</button><button ng-click="nextQuestion();">Next</button>
				</div>
				<div class="col s12 test-start txt-strt-btn" ng-show="last_question">
						 <button ng-click="prevQuestion();">Prev</button>
				</div>

		<div id="submitTest" class="modal submitModal">
	    <div class="modal-footer">
	    <div class="col s12 white">
	    	<h6>Confirm test submission?</h6>
	    </div>
	    <div class="col s12 white side-no-pad">
	    	<div class="col s6">
	    		<a href="javaScript:void(0)" class="modal-action modal-close cancel-btn">Cancel</a>
	    	</div>
	    	<div class="col s6">
	    		<a href="javaScript:void(0)"  ng-click="submitTest(testQuestions)" class="modal-action head-col">Submit</a>
	    	</div>
	    </div>


	    </div>
	  </div>

		<div id="backTest" class="modal submitModal">
	    <div class="modal-footer">
	    <div class="col s12 white">
	    	<h6>Are you sure to cancel this test?</h6>
	    </div>
	    <div class="col s12 white side-no-pad">
	    	<div class="col s6">
	    		<a href="javaScript:void(0)" class="modal-action modal-close cancel-btn">No</a>
	    	</div>
	    	<div class="col s6">
	    		<a href="javaScript:void(0)"  ng-click="cancelTest()" class="modal-action head-col">Yes</a>
	    	</div>
	    </div>


	    </div>
	  </div>
</div>
<div class="row f5f5f5" ng-if="isScore">
	<div class="col s12 test-info">
			<div class="col s1 st-lecture left-no-pad" ng-click="init()">
				<img src="app/images/go-back-left-arrow.png" class="" width="20" height="20" ng-click="goToTest()">
			</div>
			<div class="col s11 test-name">
					<h6> Results</h6>
			</div>
	</div>
	<div class="col s12 score-detail">
		<h6>
			Score Obtained
		</h6>
		<p>{{testScore.TotalQues}} Questions</p>
	</div>
	<div class="col s12">
		<div class="col s5">
			<donut></donut>
		</div>
		<div class="col s7 score-progressor">
			<div class="col s12 side-no-pad pad-btm-10">
				<div class="col s2 correct correct-col">
				{{testScore.Correct}}
				</div>
				<div class="col s10">
					<p class="label">Correct</p>
					<div class="progress">
							<div class="determinate correctans" style="width: 50%"></div>
					</div>
				</div>
			</div>
			<div class="col s12 side-no-pad pad-btm-10">
				<div class="col s2 correct incorrect-col">
				{{testScore.Incorrect}}
				</div>
				<div class="col s10">
					<p class="label">Incorrect</p>
					<div class="progress">
							<div class="determinate incorrectans" style="width: 30%"></div>
					</div>
				</div>
			</div>
			<div class="col s12 side-no-pad">
				<div class="col s2 correct unanswer-col">
				{{testScore.Unanswered}}
				</div>
				<div class="col s10">
					<p class="label">Unanswer</p>
					<div class="progress">
							<div class="determinate unanswer" style="width: 20%"></div>
					</div>
				</div>
			</div>
		</div>
		<div class="score-perc">
			{{testScore.Correct * testScore.TotalQues /100}}%
		</div>
	</div>
</div>
<div class="row f5f5f5" ng-if="isSolutionShow">
	<div class="col s12 test-timer">
		<div class="col s1 st-lecture left-no-pad">
				<img src="app/images/go-back-left-arrow.png" class="" width="20" height="20" ng-click="goToTest()">
		</div>
		<div class="col s11 test-name">
				<h6 class="white-text"> Solutions <span class="sol-title">({{testSolution[0].Title}})</span></h6>
		</div>
	</div>

			<div  class="col s12 question-slider slick">
			  		<div class="slider-item" ng-repeat="slider in testSolution">
			  			<h6>{{$index + 1}}</h6>
			  		</div>
			</div>
			<div  class="col s12 quesinfo-slider slick">
			  		<div class="slider-item" ng-repeat="ques in testSolution">
			  			<div class="col s12">
			  				<div class="col s12 ques-info">
			  					<div class="col s12 side-no-pad ques-head">
			  						<div class="col s10 side-no-pad">
			  							<span class="ques-num">{{$index + 1}}</span><span class="ques-time"></span><span class="ques-points">+{{ques.Marks}}</span><span class="ques-points">-{{ques.NegativeMarks}}</span>
			  						</div>
			  						<div class="col s1">
			  							<img src="app/images/attention-sign-outline.png">
			  						</div>
			  						<div class="col s1">
			  							<img src="app/images/bookmark.png" width="18">
			  						</div>
			  					</div>
			  					<div class="col s12 ques-text side-no-pad">
			  						<h6>
											{{ques.Question}}
										</h6>
			  					</div>
			  				</div>
			  				<div class="ques-option col s12 side-no-pad">
								  <div class="selection" ng-repeat="option in ques.TAnswer">
								    <!-- <input id="option_{{$index + 1}}_{{$parent.$index + 1}}" name="ques-option" type="radio"> -->
								    <label for="option_{{$index + 1}}_{{$parent.$index + 1}}" class="bg_{{$parent.$index + 1}} selected_{{$index + 1}}_{{$parent.$index + 1}}" ng-class="{'cor-ans' : (ques.ValidAnswer == option.AnswerId),'wrong-ans' : (ques.AttamptedAns != ques.ValidAnswer && ques.AttamptedAns == option.AnswerId)}">
											<span>{{$index+1}}.
											</span>
											{{option.Answer}}
										</label>
								  </div>
							</div>
			  			</div>
			  		</div>
			</div>
				<div class="col s12 test-start txt-strt-btn" ng-show="first_question">
				     <button ng-click="nextQuestion('Attempted');">Next</button>
				</div>
				<div class="col s12 test-nxt-prev txt-strt-btn" ng-hide="first_question">
				     <button ng-click="prevQuestion();">Prev</button><button ng-click="nextQuestion('Attempted');">Next</button>
				</div>
				<div class="col s12 test-start txt-strt-btn" ng-show="last_question">
						 <button ng-click="prevQuestion();">Prev</button>
				</div>


</div>
